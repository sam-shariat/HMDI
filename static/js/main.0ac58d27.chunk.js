(this["webpackJsonpalgorand-marketplace"]=this["webpackJsonpalgorand-marketplace"]||[]).push([[0],{124:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var a=n(33),r=n(5),c=n(10),o=n(39),s=n(38),i=n(14),l=n.n(i),u=n(8),d=n(210),b=n(211),j=n(13),p=Object(o.a)((function e(t,n,a,r){Object(s.a)(this,e),this.uid=t,this.comment=n,this.appId=a,this.owner=r})),x=function(){var t=Object(c.a)(Object(r.a)().mark((function t(n){var a,c,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new TextEncoder,c=a.encode(n),t.next=4,u.f.compile(c).do();case 4:return o=t.sent,t.abrupt("return",new Uint8Array(e.from(o.result,"base64")));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n,a){var c,o,s,i,j,p,f,m,O,h,g,v,N;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Adding Comment..."+a),console.log(n),e.next=4,u.f.getTransactionParams().do();case 4:return(c=e.sent).fee=l.a.ALGORAND_MIN_TX_FEE,c.flatFee=!0,e.next=9,x(d.a);case 9:return o=e.sent,e.next=12,x(b.a);case 12:return s=e.sent,i=(new TextEncoder).encode(u.b),j=(new TextEncoder).encode(n.comment),p=l.a.encodeUint64(Number(a)),f=[p,j],m=l.a.makeApplicationCreateTxnFromObject({from:t,suggestedParams:c,onComplete:l.a.OnApplicationComplete.NoOpOC,approvalProgram:o,clearProgram:s,numLocalInts:u.q,numLocalByteSlices:u.p,numGlobalInts:u.n,numGlobalByteSlices:u.k,note:i,appArgs:f}),O=m.txID().toString(),e.next=21,u.i.signTransaction(m.toByte());case 21:return h=e.sent,console.log("Signed transaction with txID: %s",O),e.next=25,u.f.sendRawTransaction(h.blob).do();case 25:return e.next=27,l.a.waitForConfirmation(u.f,O,4);case 27:return g=e.sent,console.log("Transaction "+O+" confirmed in round "+g["confirmed-round"]),e.next=31,u.f.pendingTransactionInformation(O).do();case 31:return v=e.sent,N=v["application-index"],console.log("Created new app-id: ",N),e.abrupt("return",[N,O]);case 35:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),m=function(){var t=Object(c.a)(Object(r.a)().mark((function t(n){var c,o,s,i,l,d,b,j,p;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Fetching comments..."),c=(new TextEncoder).encode(u.b),o=e.from(c).toString("base64"),t.next=5,u.g.searchForTransactions().notePrefix(o).txType("appl").minRound(u.h).do();case 5:s=t.sent,i=[],l=Object(a.a)(s.transactions),t.prev=8,l.s();case 10:if((d=l.n()).done){t.next=20;break}if(b=d.value,!(j=b["created-application-index"])){t.next=18;break}return t.next=16,O(j,n);case 16:(p=t.sent)&&i.push(p);case 18:t.next=10;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),l.e(t.t0);case 25:return t.prev=25,l.f(),t.finish(25);case 28:return console.log("Comments fetched."),t.abrupt("return",i);case 30:case"end":return t.stop()}}),t,null,[[8,22,25,28]])})));return function(e){return t.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){var a,c,o,s,i,l,d;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.g.lookupApplications(t).includeAll(!0).do();case 3:if(!(a=e.sent).application.deleted){e.next=6;break}return e.abrupt("return",null);case 6:if(c=a.application.params["global-state"],o=a.application.params.creator,s="",i="",l=function(e,t){return t.find((function(t){return t.key===Object(j.e)(e)}))},void 0!==l("COMMENT",c)&&(d=l("COMMENT",c).value.bytes,s=Object(j.a)(d)),void 0!==l("UID",c)&&(i=l("UID",c).value.uint),n!==i){e.next=17;break}return e.abrupt("return",new p(i,s,t,o));case 17:return e.abrupt("return",null);case 18:e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(0),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,n){return e.apply(this,arguments)}}()}).call(this,n(16).Buffer)},13:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u}));var a=n(8),r=n(123),c=n.n(r),o=function(e){if(e)return e.slice(0,5)+"..."+e.slice(e.length-5,e.length)},s=function(e){if(e)return new c.a(e).shiftedBy(-a.a).toFixed(3)},i=function(e){if(e)return new c.a(e).shiftedBy(a.a).toNumber()},l=function(t){return e.from(t,"base64").toString("utf-8")},u=function(t){return e.from(t,"utf8").toString("base64")}}).call(this,n(16).Buffer)},206:function(e,t,n){"use strict";t.a='#pragma version 6\r\ntxn ApplicationID\r\nint 0\r\n==\r\nbnz main_l6\r\ntxn OnCompletion\r\nint DeleteApplication\r\n==\r\nbnz main_l5\r\ntxna ApplicationArgs 0\r\nbyte "edit"\r\n==\r\nbnz main_l4\r\nerr\r\nmain_l4:\r\nbyte "NAME"\r\ntxna ApplicationArgs 1\r\napp_global_put\r\nbyte "IMAGE"\r\ntxna ApplicationArgs 2\r\napp_global_put\r\nbyte "BIO"\r\ntxna ApplicationArgs 3\r\napp_global_put\r\nbyte "LINK"\r\ntxna ApplicationArgs 4\r\napp_global_put\r\nint 1\r\nreturn\r\nmain_l5:\r\ntxn Sender\r\nglobal CreatorAddress\r\n==\r\nreturn\r\nmain_l6:\r\ntxn NumAppArgs\r\nint 5\r\n==\r\nassert\r\ntxn Note\r\nbyte "HMDI-profiles:uv001"\r\n==\r\nassert\r\nbyte "NAME"\r\ntxna ApplicationArgs 0\r\napp_global_put\r\nbyte "IMAGE"\r\ntxna ApplicationArgs 1\r\napp_global_put\r\nbyte "BIO"\r\ntxna ApplicationArgs 2\r\napp_global_put\r\nbyte "LINK"\r\ntxna ApplicationArgs 3\r\napp_global_put\r\nint 1\r\nreturn'},207:function(e,t,n){"use strict";t.a="#pragma version 6\r\nint 1\r\nreturn"},208:function(e,t,n){"use strict";t.a='#pragma version 6\r\ntxn ApplicationID\r\nint 0\r\n==\r\nbnz main_l8\r\ntxn OnCompletion\r\nint DeleteApplication\r\n==\r\nbnz main_l7\r\ntxna ApplicationArgs 0\r\nbyte "donate"\r\n==\r\nbnz main_l4\r\nerr\r\nmain_l4:\r\nglobal GroupSize\r\nint 2\r\n==\r\ngtxn 1 TypeEnum\r\nint pay\r\n==\r\ngtxn 1 Receiver\r\nglobal CreatorAddress\r\n==\r\n&&\r\ngtxn 1 Amount\r\nbyte "DONATION"\r\napp_global_get\r\ntxna ApplicationArgs 1\r\nbtoi\r\n*\r\n==\r\n&&\r\ngtxn 1 Sender\r\ngtxn 0 Sender\r\n==\r\n&&\r\n&&\r\nbnz main_l6\r\nint 0\r\nreturn\r\nmain_l6:\r\nbyte "DONATED"\r\nbyte "DONATED"\r\napp_global_get\r\ntxna ApplicationArgs 1\r\nbtoi\r\n+\r\napp_global_put\r\nbyte "UWALLETS"\r\nbyte "UWALLETS"\r\napp_global_get\r\nint 1\r\n+\r\napp_global_put\r\nint 1\r\nreturn\r\nmain_l7:\r\ntxn Sender\r\nglobal CreatorAddress\r\n==\r\nreturn\r\nmain_l8:\r\ntxn NumAppArgs\r\nint 6\r\n==\r\nassert\r\ntxn Note\r\nbyte "HMDI:uv001"\r\n==\r\nassert\r\ntxna ApplicationArgs 4\r\nbtoi\r\nint 0\r\n>\r\nassert\r\ntxna ApplicationArgs 5\r\nbtoi\r\nint 0\r\n>\r\nassert\r\nbyte "NAME"\r\ntxna ApplicationArgs 0\r\napp_global_put\r\nbyte "IMAGE"\r\ntxna ApplicationArgs 1\r\napp_global_put\r\nbyte "DESCRIPTION"\r\ntxna ApplicationArgs 2\r\napp_global_put\r\nbyte "LINK"\r\ntxna ApplicationArgs 3\r\napp_global_put\r\nbyte "DONATION"\r\ntxna ApplicationArgs 4\r\nbtoi\r\napp_global_put\r\nbyte "GOALDONATION"\r\ntxna ApplicationArgs 5\r\nbtoi\r\napp_global_put\r\nbyte "DONATED"\r\nint 0\r\napp_global_put\r\nbyte "UWALLETS"\r\nint 0\r\napp_global_put\r\nint 1\r\nreturn'},209:function(e,t,n){"use strict";t.a="#pragma version 6\r\nint 1\r\nreturn"},210:function(e,t,n){"use strict";t.a='#pragma version 6\r\ntxn ApplicationID\r\nint 0\r\n==\r\nbnz main_l2\r\nerr\r\nmain_l2:\r\ntxn NumAppArgs\r\nint 2\r\n==\r\nassert\r\ntxn Note\r\nbyte "HMDI-comments:uv001"\r\n==\r\nassert\r\nbyte "UID"\r\ntxna ApplicationArgs 0\r\nbtoi\r\napp_global_put\r\nbyte "COMMENT"\r\ntxna ApplicationArgs 1\r\napp_global_put\r\nint 1\r\nreturn'},211:function(e,t,n){"use strict";t.a="#pragma version 6\r\nint 1\r\nreturn"},224:function(e,t,n){},245:function(e,t){},247:function(e,t){},258:function(e,t){},260:function(e,t){},285:function(e,t){},287:function(e,t){},288:function(e,t){},293:function(e,t){},295:function(e,t){},301:function(e,t){},303:function(e,t){},322:function(e,t){},334:function(e,t){},337:function(e,t){},373:function(e,t,n){},374:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(26),o=n.n(c),s=n(5),i=n(10),l=n(3),u=n(380),d=n(388),b=n(201),j=n(381),p=n(202),x=n(212),f=n(0),m=function(){return Object(f.jsx)("div",{className:"position-fixed bottom-0 left-0 bg-black bg-opacity-50 w-100 text-center",children:Object(f.jsxs)("p",{className:"text-secondary w-100 pt-2",children:["Developed By",Object(f.jsx)("a",{href:"https://twitter.com/SamyWalters",className:"px-1 text-light",children:"Sam"}),"Powered by Algorand"]})})},O=function(e){var t=e.name,n=e.title,a=e.sub,r=e.coverImg,c=e.connect;return Object(f.jsxs)(u.a,{children:[Object(f.jsxs)(d.a,{className:"justify-content-between pt-3 px-3",children:[Object(f.jsx)(d.a.Item,{children:Object(f.jsxs)("h2",{style:{cursor:"pointer",fontWeight:"bold",display:"flex"},children:[Object(f.jsx)(x.a,{src:r}),"HMDI"]})}),Object(f.jsx)(d.a.Item,{children:Object(f.jsx)(b.a,{onClick:function(){return c()},variant:"light",className:"rounded rounded-pill px-3 py-2",children:"Connect Wallet"})})]}),Object(f.jsxs)("main",{className:"d-flex flex-column justify-content-center align-items-center desktop-vh-100 mobile-block",children:[Object(f.jsxs)(j.a,{xs:1,sm:1,md:2,lg:2,className:"text-light mobile-pt-1",children:[Object(f.jsx)(p.a,{xs:12,sm:12,md:6,lg:6,className:"d-flex flex-column justify-content-center align-items-center",children:Object(f.jsx)("div",{className:"p-5 rounded bg-dark",children:Object(f.jsx)("h2",{className:"fs-01",children:n})})}),Object(f.jsxs)(p.a,{xs:12,sm:12,md:6,lg:6,className:"mobile-center",children:[Object(f.jsx)("div",{className:"pt-2 mobile-pt-1 mobile-center",children:Object(f.jsxs)("div",{className:"w-75",children:[Object(f.jsx)("h1",{className:"fs-3 fw-bold",children:t}),Object(f.jsx)("p",{className:"fs-5 cover-sub",children:a})]})}),Object(f.jsx)("p",{children:"Please Login with your wallet to Get Started."}),Object(f.jsx)(b.a,{onClick:function(){return c()},variant:"dark",className:"rounded px-5 py-2 mt-1",children:"Get Started"})]})]}),Object(f.jsx)(m,{})]})]})},h=(n(224),n(385)),g=n(383),v=n(390),N=n(13),y=n(2),w=n(4),I=n(204),k=n.n(I),A=["size","address"],T=function(e){var t=e.size,n=e.address,a=Object(w.a)(e,A);return Object(f.jsx)("div",Object(y.a)(Object(y.a)({},a),{},{style:{width:"".concat(t,"px"),height:"".concat(t,"px")},children:Object(f.jsx)(k.a,{diameter:t,seed:parseInt(n.slice(2,10),16)})}))},C=n(386),S=n(387),_=n(205),D=n(382),F=n(92),E=n.n(F),P=function(e){var t=e.createProfile,n=Object(a.useState)(""),r=Object(l.a)(n,2),c=r[0],o=r[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),j=d[0],p=d[1],x=Object(a.useState)(""),m=Object(l.a)(x,2),O=m[0],h=m[1],g=Object(a.useState)(""),N=Object(l.a)(g,2),y=N[0],w=N[1],I=Object(a.useState)(null),k=Object(l.a)(I,2),A=k[0],T=k[1],F=Object(a.useState)(!1),P=Object(l.a)(F,2),L=P[0],M=P[1],G=function(){return M(!1)},R=function(){var e=Object(i.a)(Object(s.a)().mark((function e(t){var n,a,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=17;break}return e.prev=1,(n=new FormData).append("file",A),console.log("uploading file to ipfs"),e.next=7,E()({method:"post",url:"https://api.pinata.cloud/pinning/pinFileToIPFS",data:n,headers:{Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJmYTI2NzQ2NS0wNDJhLTRkZTMtYjM4NC1mMDUwMTI1MjllYTEiLCJlbWFpbCI6InNhbXNoYXJpYXQ3QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImlkIjoiRlJBMSIsImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxfV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiJkY2NhNzBlOTcyZjFiYWNjYjUxZSIsInNjb3BlZEtleVNlY3JldCI6IjUzNDk5YTRjOTkwMTA0ZTc0ZTY3YzA2YzhiNjk0NTU0ODYyZjFkZjI5Nzk2NDZkNjRiNWU2YWIzNDNjOWI5ODEiLCJpYXQiOjE2NjQyMzMwOTd9.MStisWxVXiMIx_RiKQqu6Ddc6jzNADZnFIFQaGcNIFk"),pinata_api_key:"".concat("dcca70e972f1baccb51e"),pinata_secret_api_key:"".concat("53499a4c990104e74e67c06c8b694554862f1df2979646d64b5e6ab343c9b981"),"Content-Type":"multipart/form-data"}});case 7:a=e.sent,r="https://gateway.pinata.cloud/ipfs/".concat(a.data.IpfsHash),console.log(r),p(r),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("Error sending File to IPFS: "),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),W=Object(a.useCallback)((function(){return!(c.length>112||c.length<1)&&(console.log(c),!(j.length>112||j.length<1)&&(console.log(j),!(O.length>112||O.length<1)&&(console.log(O),!(y.length>112||y.length<1)&&(console.log(y),!0))))}),[c,j,O,y]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(v.a,{onClick:function(){return M(!0)},direction:"horizontal",gap:2,children:[Object(f.jsx)("i",{className:"bi bi-person fs-4"}),Object(f.jsx)("div",{className:"d-flex flex-column",children:Object(f.jsx)("span",{className:"font-monospace",children:"Your Profile"})})]}),Object(f.jsxs)(C.a,{show:L,onHide:G,centered:!0,children:[Object(f.jsxs)(C.a.Header,{className:"d-flex flex-column",children:[Object(f.jsx)(C.a.Title,{children:"Add Profile"}),Object(f.jsx)("p",{children:"Your on-chain profile"})]}),Object(f.jsx)(S.a,{id:"profileform",children:Object(f.jsxs)(C.a.Body,{children:[Object(f.jsx)(_.a,{controlId:"inputProfileName",label:"Name",className:"mb-3",children:Object(f.jsx)(S.a.Control,{type:"text",onChange:function(e){o(e.target.value)},placeholder:"Enter Name"})}),Object(f.jsx)(S.a.Label,{children:"Select Profile Image"}),Object(f.jsxs)("div",{className:"d-flex gap-2 mb-3",children:[Object(f.jsx)(S.a.Control,{"aria-controls":"proFile",id:"proFile",type:"file",onChange:function(e){return T(e.target.files[0])},accept:"image/x-png,image/gif,image/jpeg"}),Object(f.jsx)(b.a,{variant:"primary",onClick:R,children:"Upload"})]}),""!==j&&Object(f.jsx)("div",{className:"mb-3",children:Object(f.jsx)(D.a,{src:j,rounded:!0,className:"w-100"})}),Object(f.jsx)(_.a,{controlId:"inputBio",label:"Bio ( ".concat(O.length,"/112 Chars )"),className:"mb-3",children:Object(f.jsx)(S.a.Control,{as:"textarea",placeholder:"Junior Blockchain Developer, Farmer",maxLength:112,style:{height:"80px"},onChange:function(e){h(e.target.value)}})}),Object(f.jsx)(_.a,{controlId:"inputProfileLink",label:"Your Link",className:"mb-3",children:Object(f.jsx)(S.a.Control,{type:"text",placeholder:"Link to your website or whatever",value:y,onChange:function(e){w(e.target.value)}})})]})}),Object(f.jsxs)(C.a.Footer,{children:[Object(f.jsx)(b.a,{variant:"outline-secondary",onClick:G,children:"Close"}),Object(f.jsx)(b.a,{variant:"primary",disabled:!W(),onClick:function(){t({name:c,image:j,bio:O,link:y}),G()},children:"Save Profile"})]})]})]})},L=n(96),M=n(19),G=n(8),R=function(){return Object(f.jsx)(M.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!1,pauseOnHover:!0})},W=function(e){var t=e.text,n=e.tx_id,a=e.type,r=void 0===a?"tx":a;return Object(f.jsxs)("div",{className:"d-flex",children:[Object(f.jsx)("i",{className:"bi bi-check-circle-fill text-success mx-2"}),Object(f.jsx)("span",{className:"text-secondary mx-1",children:t}),Object(f.jsx)(b.a,{href:G.e+r+"/"+n,target:"_blank",variant:"dark",className:"rounded-pill px-0 mx-1 d-flex justify-content-center align-items-center",style:{width:"55px"},children:Object(f.jsx)("i",{className:"bi bi-arrow-up-right-square text-light"})})]})},Y=function(e){var t=e.text;return Object(f.jsxs)("div",{children:[Object(f.jsx)("i",{className:"bi bi-x-circle-fill text-danger mx-2"}),Object(f.jsx)("span",{className:"text-secondary mx-1",children:t})]})},z={text:""};W.defaultProps=z,Y.defaultProps=z;var B=function(e){var t=e.address,n=e.name,r=e.amount,c=e.symbol,o=e.disconnect,u=Object(a.useState)([]),d=Object(l.a)(u,2),b=(d[0],d[1]),j=Object(a.useState)(!1),p=Object(l.a)(j,2),x=(p[0],p[1]),m=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(L.c)().then((function(e){e.length>0&&(b(e[0]),console.log(e[0]))})).catch((function(e){console.log(e)})).finally((function(e){x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(a.useEffect)((function(){m()}),[]),!t)return null;var O=function(){var e=Object(i.a)(Object(s.a)().mark((function e(n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(L.a)(t,n).then((function(){Object(M.b)(Object(f.jsx)(W,{text:"Profile added successfully."})),m()})).catch((function(e){console.log(e),Object(M.b)(Object(f.jsx)(Y,{text:"Failed to create a Profile."})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(h.a,{children:[Object(f.jsxs)(h.a.Toggle,{variant:"dark",align:"end",id:"dropdown-basic",className:"d-flex align-items-center border rounded-pill py-2 px-3",children:[r?Object(f.jsxs)(f.Fragment,{children:[Object(N.b)(r),Object(f.jsxs)("span",{className:"ms-1",children:[" ",c]})]}):Object(f.jsx)(g.a,{animation:"border",size:"sm",className:"opacity-25"}),Object(f.jsx)(T,{address:t,size:28,className:"ms-2 me-1"})]}),Object(f.jsxs)(h.a.Menu,{className:"shadow-lg border-0",children:[Object(f.jsx)(h.a.Item,{href:"https://testnet.algoexplorer.io/address/".concat(t),target:"_blank",children:Object(f.jsxs)(v.a,{direction:"horizontal",gap:2,children:[Object(f.jsx)("i",{className:"bi bi-person-circle fs-4"}),Object(f.jsxs)("div",{className:"d-flex flex-column",children:[n&&Object(f.jsx)("span",{className:"font-monospace",children:n}),Object(f.jsx)("span",{className:"font-monospace",children:Object(N.d)(t)})]})]})}),Object(f.jsx)(h.a.Item,{children:Object(f.jsx)(P,{createProfile:O})}),Object(f.jsx)(h.a.Divider,{}),Object(f.jsxs)(h.a.Item,{as:"button",className:"d-flex align-items-center",onClick:function(){o()},children:[Object(f.jsx)("i",{className:"bi bi-box-arrow-right me-2 fs-4"}),"Disconnect"]})]})]})})},Z=function(e){var t=e.createProduct,n=Object(a.useState)(""),r=Object(l.a)(n,2),c=r[0],o=r[1],u=Object(a.useState)(""),d=Object(l.a)(u,2),j=d[0],p=d[1],x=Object(a.useState)(""),m=Object(l.a)(x,2),O=m[0],h=m[1],g=Object(a.useState)(""),v=Object(l.a)(g,2),y=v[0],w=v[1],I=Object(a.useState)(0),k=Object(l.a)(I,2),A=k[0],T=k[1],F=Object(a.useState)(null),P=Object(l.a)(F,2),L=P[0],M=P[1],G=Object(a.useState)(0),R=Object(l.a)(G,2),W=R[0],Y=R[1],z=function(){var e=Object(i.a)(Object(s.a)().mark((function e(t){var n,a,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L){e.next=17;break}return e.prev=1,(n=new FormData).append("file",L),console.log("uploading file to ipfs"),e.next=7,E()({method:"post",url:"https://api.pinata.cloud/pinning/pinFileToIPFS",data:n,headers:{Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJmYTI2NzQ2NS0wNDJhLTRkZTMtYjM4NC1mMDUwMTI1MjllYTEiLCJlbWFpbCI6InNhbXNoYXJpYXQ3QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImlkIjoiRlJBMSIsImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxfV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiJkY2NhNzBlOTcyZjFiYWNjYjUxZSIsInNjb3BlZEtleVNlY3JldCI6IjUzNDk5YTRjOTkwMTA0ZTc0ZTY3YzA2YzhiNjk0NTU0ODYyZjFkZjI5Nzk2NDZkNjRiNWU2YWIzNDNjOWI5ODEiLCJpYXQiOjE2NjQyMzMwOTd9.MStisWxVXiMIx_RiKQqu6Ddc6jzNADZnFIFQaGcNIFk"),pinata_api_key:"".concat("dcca70e972f1baccb51e"),pinata_secret_api_key:"".concat("53499a4c990104e74e67c06c8b694554862f1df2979646d64b5e6ab343c9b981"),"Content-Type":"multipart/form-data"}});case 7:a=e.sent,r="https://gateway.pinata.cloud/ipfs/".concat(a.data.IpfsHash),console.log(r),p(r),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("Error sending File to IPFS: "),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),B=Object(a.useCallback)((function(){return!(c.length>162||c.length<1)&&(console.log(c),!(j.length>162||j.length<1)&&(console.log(j),!(O.length>162||O.length<1)&&(console.log(O),!(y.length>162||y.length<1)&&(console.log(y),!(Number(A)/1e6>=100||Number(A)/1e6<1)&&(!(Number(W)/1e6>=1e4||Number(W)/1e6<1)&&(!(Number(W)<0||Number(A)<0)&&(console.log(W),!0)))))))}),[c,j,O,y,A,W]),Z=Object(a.useState)(!1),J=Object(l.a)(Z,2),U=J[0],X=J[1],H=function(){return X(!1)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(b.a,{onClick:function(){return X(!0)},variant:"dark",className:"rounded-pill px-0",style:{width:"138px"},children:[Object(f.jsx)("i",{className:"bi bi-plus"}),"Add Project"]}),Object(f.jsxs)(C.a,{show:U,onHide:H,centered:!0,children:[Object(f.jsxs)(C.a.Header,{className:"d-flex flex-column",children:[Object(f.jsx)(C.a.Title,{children:"Raise Funds"}),Object(f.jsx)("p",{children:"Tell Us More About Your Project"})]}),Object(f.jsx)(S.a,{children:Object(f.jsxs)(C.a.Body,{children:[Object(f.jsx)(_.a,{controlId:"inputName",label:"Project Name",className:"mb-3",children:Object(f.jsx)(S.a.Control,{type:"text",onChange:function(e){o(e.target.value)},placeholder:"Enter name of project"})}),Object(f.jsx)(S.a.Label,{children:"Select Image"}),Object(f.jsxs)("div",{className:"d-flex gap-2 mb-3",children:[Object(f.jsx)(S.a.Control,{type:"file",onChange:function(e){return M(e.target.files[0])},accept:"image/x-png,image/gif,image/jpeg"}),Object(f.jsx)(b.a,{variant:"primary",onClick:z,children:"Upload"})]}),""!==j&&Object(f.jsx)("div",{className:"mb-3",children:Object(f.jsx)(D.a,{src:j,rounded:!0,className:"w-100"})}),Object(f.jsx)(_.a,{controlId:"inputDescription",label:"Description ( ".concat(O.length,"/112 Chars )"),className:"mb-3",children:Object(f.jsx)(S.a.Control,{as:"textarea",placeholder:"I need 200 ALGOs to build a website to promote what I do",maxLength:162,style:{height:"80px"},onChange:function(e){h(e.target.value)}})}),Object(f.jsx)(_.a,{controlId:"inputLinkUrl",label:"Link To Proposal or Website",className:"mb-3",children:Object(f.jsx)(S.a.Control,{type:"text",placeholder:"Link to your proposal",value:y,onChange:function(e){w(e.target.value)}})}),Object(f.jsx)(_.a,{controlId:"inputDonation",label:"Each Donation (Max 99)",className:"mb-3",children:Object(f.jsx)(S.a.Control,{type:"text",max:10,placeholder:"Each Donation in ALGO (Max 99)",onChange:function(e){T(Object(N.c)(e.target.value))}})}),Object(f.jsx)(_.a,{controlId:"inputGoaldonation",label:"Total Donation Goal (Max 9999)",className:"mb-3",children:Object(f.jsx)(S.a.Control,{type:"text",max:10,placeholder:"Total Needed Donation in ALGO (Max 9999)",onChange:function(e){Y(Object(N.c)(e.target.value))}})})]})}),Object(f.jsxs)(C.a.Footer,{children:[Object(f.jsx)(b.a,{variant:"outline-secondary",onClick:H,children:"Close"}),Object(f.jsx)(b.a,{variant:"primary",disabled:!B(),onClick:function(){t({name:c,image:j,description:O,link:y,donation:A,goaldonation:W}),H()},children:"Save Project To Start Raising Funds"})]})]})]})},J=n(389),U=n(384),X=function(e){e.address;var t=e.product,n=(e.buyProduct,e.deleteProduct,t.name),r=t.image,c=t.description,o=(t.link,t.donation),s=t.goaldonation,i=t.donated,u=t.uwallets,d=t.appId,b=t.owner,j=Object(a.useState)(1),x=Object(l.a)(j,2),m=(x[0],x[1],Object(N.b)(o)*i),O=Math.round(m/Object(N.b)(s)*100);return Object(f.jsx)(p.a,{children:Object(f.jsxs)(J.a,{className:"h-100 bg-dark",children:[Object(f.jsx)(J.a.Header,{children:Object(f.jsxs)(v.a,{direction:"horizontal",gap:2,children:[Object(f.jsx)(T,{size:28,address:b}),Object(f.jsx)("span",{className:"font-monospace text-secondary",children:Object(N.d)(b)}),Object(f.jsxs)(U.a,{bg:"secondary",className:"ms-auto",children:[u," Donations"]})]})}),Object(f.jsx)("div",{className:"ratio ratio-16x9",children:Object(f.jsx)("img",{src:r,alt:n,style:{objectFit:"cover"}})}),Object(f.jsxs)(J.a.Body,{className:"d-flex flex-column text-light",children:[Object(f.jsx)(J.a.Title,{children:n}),Object(f.jsx)(J.a.Text,{className:"flex-grow-1",children:c}),Object(f.jsx)("div",{className:"progress",style:{backgroundColor:"#171717"},children:Object(f.jsxs)("div",{className:"progress-bar"+(100===O?" bg-success":""),role:"progressbar",style:{width:"".concat(O,"%")},"aria-valuenow":O,"aria-valuemin":"0","aria-valuemax":"100",children:[O,"%"]})}),Object(f.jsxs)("p",{className:"w-100 text-center pt-4 pb-0 fs-7 text-secondary",children:[Object(f.jsxs)("b",{children:[m," ALGOs"]})," raised of ",Object(f.jsxs)("b",{children:[s/1e6," Goal"]})]}),Object(f.jsx)(J.a.Link,{className:"text-decoration-none pb-3 pt-3 fw-bold text-center text-light w-100 rounded bg-"+(100===O?"success":"primary"),href:"?appId="+d,children:O>=100?Object(f.jsx)("b",{children:"Goal Reached"}):Object(f.jsx)("b",{children:"Fund Project"})})]})]})},d)},H=function(e){var t=e.height,n=void 0===t?"400px":t;return Object(f.jsx)("div",{className:"d-flex justify-content-center text-light align-items-center",style:{height:"".concat(n)},children:Object(f.jsx)(g.a,{animation:"border",role:"status",className:"opacity-50",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},V=n(41),Q=function(e){var t=e.address,n=e.fetchBalance,r=Object(a.useState)([]),c=Object(l.a)(r,2),o=c[0],u=c[1],d=Object(a.useState)(!1),b=Object(l.a)(d,2),p=b[0],x=b[1],m=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(V.e)().then((function(e){e&&(u(e),console.log(e))})).catch((function(e){console.log(e)})).finally((function(e){x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){m()}),[]);var O=function(){var e=Object(i.a)(Object(s.a)().mark((function e(a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(V.b)(t,a).then((function(){Object(M.b)(Object(f.jsx)(W,{text:"Project added successfully."})),m(),n(t)})).catch((function(e){console.log(e),Object(M.b)(Object(f.jsx)(Y,{text:"Failed to create a project."})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(Object(s.a)().mark((function e(a,r){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(V.a)(t,a,r).then((function(){Object(M.b)(Object(f.jsx)(W,{text:"Donated to Project successfully"})),m(),n(t)})).catch((function(e){console.log(e),Object(M.b)(Object(f.jsx)(Y,{text:"Failed to Donate Project. Please Try Again"})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(Object(s.a)().mark((function e(a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),Object(V.c)(t,a.appId).then((function(){Object(M.b)(Object(f.jsx)(W,{text:"Project deleted successfully"})),m(),n(t)})).catch((function(e){console.log(e),Object(M.b)(Object(f.jsx)(Y,{text:"Failed to delete project."})),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p?Object(f.jsx)(H,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[Object(f.jsx)("h1",{className:"fs-4 fw-bold mb-0",children:"FundRaising Projects"}),Object(f.jsx)(Z,{createProduct:O})]}),Object(f.jsx)(j.a,{xs:1,sm:2,lg:3,className:"g-3 mb-5 g-xl-4 g-xxl-5",children:Object(f.jsx)(f.Fragment,{children:o.map((function(e,n){return Object(f.jsx)(X,{address:t,product:e,buyProduct:h,deleteProduct:g},n)}))})})]})},K=n.p+"static/media/balloon.f4aa06f0.svg",q=function(e){var t=e.address,n=e.product,r=e.buyProduct,c=e.deleteProduct,o=n.name,s=n.image,i=n.description,u=n.link,d=n.donation,x=n.goaldonation,m=n.donated,O=n.uwallets,h=n.appId,g=n.owner,y=Object(a.useState)(!1),w=Object(l.a)(y,2),I=(w[0],w[1]),k=function(){window.innerWidth<992?I(!0):I(!1)};Object(a.useEffect)((function(){window.addEventListener("resize",k)}));var A=Object(a.useState)(1),C=Object(l.a)(A,2),_=C[0],F=C[1],E=Object(N.b)(d)*m,P=Math.round(E/Object(N.b)(x)*100);return Object(f.jsxs)(j.a,{xs:1,sm:1,lg:2,className:"g-1 mb-5 g-xl-2 g-xxl-2",children:[Object(f.jsx)(p.a,{xs:12,sm:12,lg:8,children:Object(f.jsxs)(J.a,{className:"h-100 bg-dark",children:[Object(f.jsx)(D.a,{rounded:!0,src:s,alt:o}),Object(f.jsxs)(J.a.Body,{className:"d-flex flex-column text-light",children:[Object(f.jsx)(J.a.Title,{children:o}),Object(f.jsx)(J.a.Text,{className:"flex-grow-1",children:i}),Object(f.jsx)(J.a.Link,{className:"text-decoration-none pb-3 pt-3 fw-bold text-center w-100 border border-primary rounded",href:u,target:"_blank",children:"View Proposal"})]})]})},h),Object(f.jsx)(p.a,{xs:12,sm:12,lg:4,children:Object(f.jsxs)(J.a,{className:"h-100 bg-dark",children:[Object(f.jsxs)(J.a.Body,{className:"d-flex flex-column text-light",children:[Object(f.jsxs)("p",{className:"w-100 text-center fs-6 text-secondary",children:[Object(f.jsxs)("b",{children:[E," ALGOs"]})," raised of ",Object(f.jsxs)("b",{children:[x/1e6," Goal"]})]}),Object(f.jsx)("div",{className:"progress mb-2",style:{backgroundColor:"#171717"},children:Object(f.jsxs)("div",{className:"progress-bar"+(100===P?" bg-success":""),role:"progressbar",style:{width:"".concat(P,"%")},"aria-valuenow":P,"aria-valuemin":"0","aria-valuemax":"100",children:[P,"%"]})}),Object(f.jsxs)("p",{className:"fs-6 mb-2",children:[O," Donations"]}),Object(f.jsxs)(S.a,{className:"d-flex align-content-stretch flex-column gap-2 mb-2",children:[Object(f.jsx)(b.a,{variant:"danger",onClick:function(){navigator.share({title:o,text:i,url:"".concat("https://sam-shariat.github.io/HMDI","?appId=").concat(h)})},className:"w-100 py-3 bg-orange fs-5",children:"Share"}),Object(f.jsx)(b.a,{variant:100===P?"success":"light",disabled:Object(N.b)(d)*m>=Object(N.b)(x),onClick:function(){return r(n,_)},className:"w-100 py-3 fs-5",children:P>=100?Object(f.jsx)("span",{children:"Goal Reached"}):Object(f.jsxs)("span",{children:["Donate ",Object(N.b)(d)*_," ALGO",Object(N.b)(d)>1?"s":""]})}),Object(f.jsxs)(S.a.Select,{value:_,className:"py-3",onChange:function(e){F(Number(e.target.value))},children:[Object(f.jsx)("option",{value:"1",children:"Want to help more ?"}),Object(f.jsx)("option",{value:"2",children:"2x"}),Object(f.jsx)("option",{value:"4",children:"4x"}),Object(f.jsx)("option",{value:"6",children:"6x"}),Object(f.jsx)("option",{value:"6",children:"8x"}),Object(f.jsx)("option",{value:"10",children:"10x"}),Object(f.jsx)("option",{value:"15",children:"15x"})]}),n.owner===t&&Object(f.jsx)(b.a,{variant:"outline-danger",onClick:function(){return c(n)},className:"btn",children:Object(f.jsx)("i",{className:"bi bi-trash"})})]})]}),Object(f.jsxs)(J.a.Footer,{children:[Object(f.jsx)("p",{className:"text-light",children:"Top Donation"}),Object(f.jsxs)(v.a,{direction:"horizontal",gap:2,children:[Object(f.jsx)(T,{size:28,address:g}),Object(f.jsx)("span",{className:"font-monospace text-secondary",children:Object(N.d)(g)}),Object(f.jsx)(U.a,{bg:"secondary",className:"ms-auto",children:"40 ALGOs"})]})]}),Object(f.jsxs)(J.a.Footer,{children:[Object(f.jsx)("p",{className:"text-light",children:"Last Donation"}),Object(f.jsxs)(v.a,{direction:"horizontal",gap:2,children:[Object(f.jsx)(T,{size:28,address:g}),Object(f.jsx)("span",{className:"font-monospace text-secondary",children:Object(N.d)(g)}),Object(f.jsx)(U.a,{bg:"secondary",className:"ms-auto",children:"12 ALGOs"})]})]}),Object(f.jsx)(J.a.Footer,{children:Object(f.jsx)("a",{href:"#",className:"text-light",children:"See All Donations"})})]})},h+"b")]})},$=n(124),ee=function(e){var t=e.createComment,n=e.name,r=Object(a.useState)(""),c=Object(l.a)(r,2),o=c[0],s=c[1],i=Object(a.useCallback)((function(){return!(o.length>162||o.length<1)&&(console.log(o),!0)}),[o]),u=Object(a.useState)(!1),d=Object(l.a)(u,2),j=d[0],p=d[1],x=function(){return p(!1)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(b.a,{onClick:function(){return p(!0)},variant:"dark",className:"rounded-pill px-0",style:{width:"138px"},children:[Object(f.jsx)("i",{className:"bi bi-plus"}),"Add Comment"]}),Object(f.jsxs)(C.a,{show:j,onHide:x,centered:!0,children:[Object(f.jsxs)(C.a.Header,{className:"d-flex flex-column",children:[Object(f.jsx)(C.a.Title,{children:"Commenting"}),Object(f.jsxs)("p",{children:["on ",n]})]}),Object(f.jsx)(S.a,{children:Object(f.jsx)(C.a.Body,{children:Object(f.jsx)(_.a,{controlId:"inputComment",label:"Comment ( ".concat(o.length,"/112 Chars )"),className:"mb-3",children:Object(f.jsx)(S.a.Control,{as:"textarea",placeholder:"Nice Project, I will definitely Donate. Would love to see the results",maxLength:112,style:{height:"80px"},onChange:function(e){s(e.target.value)}})})})}),Object(f.jsxs)(C.a.Footer,{children:[Object(f.jsx)(b.a,{variant:"outline-secondary",onClick:x,children:"Close"}),Object(f.jsx)(b.a,{variant:"primary",disabled:!i(),onClick:function(){t({comment:o}),x()},children:"Comment"})]})]})]})},te=function(e){e.address;var t=e.comments,n=t.comment,a=t.appId,r=t.owner;return Object(f.jsx)(p.a,{children:Object(f.jsxs)(J.a,{className:"h-100 bg-dark",children:[Object(f.jsx)(J.a.Header,{children:Object(f.jsxs)(v.a,{direction:"horizontal",gap:2,children:[Object(f.jsx)(T,{size:28,address:r}),Object(f.jsx)("span",{className:"font-monospace text-secondary",children:Object(N.d)(r)})]})}),Object(f.jsx)(J.a.Body,{className:"d-flex flex-column text-light",children:Object(f.jsx)(J.a.Text,{className:"flex-grow-1",children:n})})]})},a)},ne=function(e){var t=e.address,n=e.uid,r=e.name,c=e.gComments,o=Object(a.useState)([]),u=Object(l.a)(o,2),d=u[0],b=u[1],p=Object(a.useState)(!1),x=Object(l.a)(p,2),m=x[0],O=x[1],h=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0),Object($.b)(n).then((function(e){e&&(b(e),c(e.length),console.log(e))})).catch((function(e){console.log(e)})).finally((function(e){O(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){h()}),[]);var g=function(){var e=Object(i.a)(Object(s.a)().mark((function e(a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0),Object($.a)(t,a,n).then((function(e){Object(M.b)(Object(f.jsx)(W,{text:"Comment added successfully.",tx_id:e[1]})),h()})).catch((function(e){console.log(e),Object(M.b)(Object(f.jsx)(Y,{text:"Failed to create a Comment."})),O(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m?Object(f.jsx)(H,{height:"100px"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{id:"comments",className:"d-flex justify-content-between align-items-center mb-4",children:[Object(f.jsx)("h1",{className:"fs-4 fw-bold mb-0",children:"Comments"}),Object(f.jsx)(ee,{createComment:g,name:r})]}),Object(f.jsx)(j.a,{xs:1,sm:2,lg:3,className:"g-3 mb-5 g-xl-4 g-xxl-5",children:Object(f.jsx)(f.Fragment,{children:d.map((function(e,n){return Object(f.jsx)(te,{address:t,comments:e},n)}))})})]})},ae=function(e){var t=e.address,n=e.fetchBalance,r=Object(a.useState)([]),c=Object(l.a)(r,2),o=c[0],u=c[1],d=Object(a.useState)(0),j=Object(l.a)(d,2),p=j[0],x=j[1],m=Object(a.useState)(!0),O=Object(l.a)(m,2),h=O[0],g=O[1],v=new URLSearchParams(window.location.search).get("appId"),N=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),Object(V.d)(v).then((function(e){e&&(u(e),console.log(e))})).catch((function(e){console.log(e)})).finally((function(e){g(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){N()}),[]);var y=function(){var e=Object(i.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(Object(s.a)().mark((function e(a,r){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),Object(V.a)(t,a,r).then((function(){Object(M.b)(Object(f.jsx)(W,{text:"Donated to Project successfully"})),N(),n(t)})).catch((function(e){console.log(e),Object(M.b)(Object(f.jsx)(Y,{text:"Failed to Donate Project. Please Try Again"})),g(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(Object(s.a)().mark((function e(a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),Object(V.c)(t,a.appId).then((function(){Object(M.b)(Object(f.jsx)(W,{text:"Project deleted successfully"})),N(),n(t)})).catch((function(e){console.log(e),Object(M.b)(Object(f.jsx)(Y,{text:"Failed to delete project."})),g(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return h?Object(f.jsx)(H,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[Object(f.jsx)("h1",{className:"fs-3 mb-0",children:o[0].name}),Object(f.jsxs)("div",{children:[Object(f.jsx)(b.a,{onClick:y,variant:"dark",className:"rounded-pill px-0 mx-1",style:{width:"45px"},"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Like",children:Object(f.jsx)("i",{className:"bi bi-heart-fill"})}),Object(f.jsxs)(b.a,{href:"#comments",variant:"dark",className:"rounded-pill px-0",style:{width:"50px"},"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"".concat(p," | Comment"),children:[p,"\xa0\xa0",Object(f.jsx)("i",{className:"bi bi-chat-square-text"})]})]})]}),Object(f.jsx)(q,{address:t,product:o[0],buyProduct:w,deleteProduct:I},o[0].appId),Object(f.jsx)(ne,{address:t,gComments:function(e){x(e)},name:o[0].name,uid:o[0].appId})]})},re=function(){var e=Object(a.useState)(localStorage.getItem("algo_wallet_address")),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(localStorage.getItem("algo_wallet_name")),o=Object(l.a)(c,2),b=o[0],j=o[1],p=Object(a.useState)(0),x=Object(l.a)(p,2),m=x[0],h=x[1],g=new URLSearchParams(window.location.search).get("appId"),v=function(){var e=Object(i.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.g.lookupAccountByID(t).do().then((function(e){var t=e.account.amount;h(t)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n&&0!==Number(n)&&v(n);var N=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.i.connect().then((function(e){var t=e[0];r(t.address),localStorage.setItem("algo_wallet_address",t.address),j(t.name),localStorage.setItem("algo_wallet_name",t.name),v(t.address)})).catch((function(e){console.log("Could not connect to MyAlgo wallet"),console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(R,{}),n&&0!==Number(n)?Object(f.jsxs)(u.a,{fluid:"md",children:[Object(f.jsxs)(d.a,{className:"justify-content-between pt-3 pb-5",children:[Object(f.jsx)(d.a.Item,{children:Object(f.jsx)(d.a.Link,{href:"/",children:Object(f.jsx)("h3",{style:{cursor:"pointer",fontWeight:"bold"},children:"HelpMeDoit"})})}),Object(f.jsx)(d.a.Item,{children:Object(f.jsx)(B,{address:n,name:b,amount:m,disconnect:function(){r(null),j(null),h(null),localStorage.setItem("algo_wallet_name",0),localStorage.setItem("algo_wallet_address",0)},symbol:"ALGO"})})]}),Object(f.jsx)("main",{children:g?Object(f.jsx)(ae,{address:n,fetchBalance:v}):Object(f.jsx)(Q,{address:n,fetchBalance:v})})]}):Object(f.jsx)(O,{name:"Help Me Do It",title:Object(f.jsxs)("span",{children:[Object(f.jsxs)("b",{className:"cover-title",children:["Your Home",Object(f.jsx)("br",{}),"For Help "]}),"\ud83d\ude4f"]}),sub:"A Decentralized Platform to Raise Funds For Your Most Important Project(s) and Donate Some ALGO(s) To Help Your Fellows In Need",coverImg:K,connect:N})]})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,391)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};n(370),n(371),n(372),n(373);o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(re,{})}),document.getElementById("root")),ce()},41:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return g}));var a=n(33),r=n(5),c=n(10),o=n(39),s=n(38),i=n(14),l=n.n(i),u=n(8),d=n(208),b=n(209),j=n(13),p=Object(o.a)((function e(t,n,a,r,c,o,i,l,u,d){Object(s.a)(this,e),this.name=t,this.image=n,this.description=a,this.link=r,this.donation=c,this.goaldonation=o,this.donated=i,this.uwallets=l,this.appId=u,this.owner=d})),x=function(){var t=Object(c.a)(Object(r.a)().mark((function t(n){var a,c,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new TextEncoder,c=a.encode(n),t.next=4,u.f.compile(c).do();case 4:return o=t.sent,t.abrupt("return",new Uint8Array(e.from(o.result,"base64")));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){var a,c,o,s,i,j,p,f,m,O,h,g,v,N,y,w,I;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Adding Project..."),e.next=3,u.f.getTransactionParams().do();case 3:return(a=e.sent).fee=l.a.ALGORAND_MIN_TX_FEE,a.flatFee=!0,e.next=8,x(d.a);case 8:return c=e.sent,e.next=11,x(b.a);case 11:return o=e.sent,s=(new TextEncoder).encode(u.c),i=(new TextEncoder).encode(n.name),j=(new TextEncoder).encode(n.image),p=(new TextEncoder).encode(n.description),f=(new TextEncoder).encode(n.link),m=l.a.encodeUint64(n.donation),O=l.a.encodeUint64(n.goaldonation),h=[i,j,p,f,m,O],g=l.a.makeApplicationCreateTxnFromObject({from:t,suggestedParams:a,onComplete:l.a.OnApplicationComplete.NoOpOC,approvalProgram:c,clearProgram:o,numLocalInts:u.q,numLocalByteSlices:u.p,numGlobalInts:u.m,numGlobalByteSlices:u.j,note:s,appArgs:h}),v=g.txID().toString(),e.next=24,u.i.signTransaction(g.toByte());case 24:return N=e.sent,console.log("Signed transaction with txID: %s",v),e.next=28,u.f.sendRawTransaction(N.blob).do();case 28:return e.next=30,l.a.waitForConfirmation(u.f,v,4);case 30:return y=e.sent,console.log("Transaction "+v+" confirmed in round "+y["confirmed-round"]),e.next=34,u.f.pendingTransactionInformation(v).do();case 34:return w=e.sent,I=w["application-index"],console.log("Created new app-id: ",I),e.abrupt("return",[I,v]);case 38:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n,a){var c,o,s,i,d,b,j,p,x,f,m,O;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Donating to Product..."),e.next=3,u.f.getTransactionParams().do();case 3:for((c=e.sent).fee=l.a.ALGORAND_MIN_TX_FEE,c.flatFee=!0,o=(new TextEncoder).encode("donate"),s=l.a.encodeUint64(a),i=[o,s],d=l.a.makeApplicationCallTxnFromObject({from:t,appIndex:n.appId,onComplete:l.a.OnApplicationComplete.NoOpOC,suggestedParams:c,appArgs:i}),b=l.a.makePaymentTxnWithSuggestedParamsFromObject({from:t,to:n.owner,amount:n.donation*a,suggestedParams:c}),j=[d,b],p=l.a.computeGroupID(j),x=0;x<2;x++)j[x].group=p;return e.next=16,u.i.signTransaction(j.map((function(e){return e.toByte()})));case 16:return f=e.sent,console.log("Signed group transaction"),e.next=20,u.f.sendRawTransaction(f.map((function(e){return e.blob}))).do();case 20:return m=e.sent,e.next=23,l.a.waitForConfirmation(u.f,m.txId,4);case 23:O=e.sent,console.log("Group transaction "+m.txId+" confirmed in round "+O["confirmed-round"]);case 25:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){var a,c,o,s,i,d,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Deleting application..."),e.next=3,u.f.getTransactionParams().do();case 3:return(a=e.sent).fee=l.a.ALGORAND_MIN_TX_FEE,a.flatFee=!0,c=l.a.makeApplicationDeleteTxnFromObject({from:t,suggestedParams:a,appIndex:n}),o=c.txID().toString(),e.next=10,u.i.signTransaction(c.toByte());case 10:return s=e.sent,console.log("Signed transaction with txID: %s",o),e.next=14,u.f.sendRawTransaction(s.blob).do();case 14:return e.next=16,l.a.waitForConfirmation(u.f,o,4);case 16:return i=e.sent,console.log("Transaction "+o+" confirmed in round "+i["confirmed-round"]),e.next=20,u.f.pendingTransactionInformation(o).do();case 20:d=e.sent,b=d.txn.txn.apid,console.log("Deleted app-id: ",b);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(Object(r.a)().mark((function t(){var n,c,o,s,i,l,d,b,j;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Fetching products..."),n=(new TextEncoder).encode(u.c),c=e.from(n).toString("base64"),t.next=5,u.g.searchForTransactions().notePrefix(c).txType("appl").minRound(u.h).do();case 5:o=t.sent,s=[],i=Object(a.a)(o.transactions),t.prev=8,i.s();case 10:if((l=i.n()).done){t.next=20;break}if(d=l.value,!(b=d["created-application-index"])){t.next=18;break}return t.next=16,v(b);case 16:(j=t.sent)&&s.push(j);case 18:t.next=10;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),i.e(t.t0);case 25:return t.prev=25,i.f(),t.finish(25);case 28:return console.log("Products fetched."),t.abrupt("return",s);case 30:case"end":return t.stop()}}),t,null,[[8,22,25,28]])})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(c.a)(Object(r.a)().mark((function t(n){var c,o,s,i,l,d,b,j,p;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Fetching product..."),c=(new TextEncoder).encode(u.c),o=e.from(c).toString("base64"),t.next=5,u.g.searchForTransactions().notePrefix(o).applicationID(n).txType("appl").minRound(u.h).do();case 5:s=t.sent,i=[],l=Object(a.a)(s.transactions),t.prev=8,l.s();case 10:if((d=l.n()).done){t.next=20;break}if(b=d.value,!(j=b["created-application-index"])){t.next=18;break}return t.next=16,v(j);case 16:(p=t.sent)&&i.push(p);case 18:t.next=10;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),l.e(t.t0);case 25:return t.prev=25,l.f(),t.finish(25);case 28:return console.log("Product fetched."),t.abrupt("return",i);case 30:case"end":return t.stop()}}),t,null,[[8,22,25,28]])})));return function(e){return t.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n,a,c,o,s,i,l,d,b,x,f,m,O,h,g,v;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.g.lookupApplications(t).includeAll(!0).do();case 3:if(!(n=e.sent).application.deleted){e.next=6;break}return e.abrupt("return",null);case 6:return a=n.application.params["global-state"],c=n.application.params.creator,o="",s="",i="",l="",d=0,b=0,x=0,f=0,m=function(e,t){return t.find((function(t){return t.key===Object(j.e)(e)}))},void 0!==m("NAME",a)&&(O=m("NAME",a).value.bytes,o=Object(j.a)(O)),void 0!==m("IMAGE",a)&&(h=m("IMAGE",a).value.bytes,s=Object(j.a)(h)),void 0!==m("DESCRIPTION",a)&&(g=m("DESCRIPTION",a).value.bytes,i=Object(j.a)(g)),void 0!==m("LINK",a)&&(v=m("LINK",a).value.bytes,l=Object(j.a)(v)),void 0!==m("DONATION",a)&&(d=m("DONATION",a).value.uint),void 0!==m("GOALDONATION",a)&&(b=m("GOALDONATION",a).value.uint),void 0!==m("DONATED",a)&&(x=m("DONATED",a).value.uint),void 0!==m("UWALLETS",a)&&(f=m("UWALLETS",a).value.uint),e.abrupt("return",new p(o,s,i,l,d,b,x,f,t,c));case 28:return e.prev=28,e.t0=e.catch(0),e.abrupt("return",null);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(16).Buffer)},8:function(e,t,n){"use strict";n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return x})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"q",(function(){return v})),n.d(t,"p",(function(){return N})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return w})),n.d(t,"o",(function(){return I})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return A})),n.d(t,"l",(function(){return T})),n.d(t,"a",(function(){return C}));var a=n(14),r=n.n(a),c=n(203),o=n.n(c),s="",i="https://node.testnet.algoexplorerapi.io",l="",u="",d="https://algoindexer.testnet.algoexplorerapi.io",b="",j="https://testnet.algoexplorer.io/",p=new r.a.Algodv2(s,i,l),x=new r.a.Indexer(u,d,b),f=new o.a,m=21540981,O="HMDI:uv001",h="HMDI-comments:uv001",g="HMDI-profiles:uv01",v=0,N=0,y=4,w=1,I=0,k=4,A=1,T=4,C=6},96:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return O}));var a=n(33),r=n(5),c=n(10),o=n(39),s=n(38),i=n(14),l=n.n(i),u=n(8),d=n(206),b=n(207),j=n(13),p=Object(o.a)((function e(t,n,a,r,c,o){Object(s.a)(this,e),this.name=t,this.image=n,this.bio=a,this.link=r,this.appId=c,this.owner=o})),x=function(){var t=Object(c.a)(Object(r.a)().mark((function t(n){var a,c,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new TextEncoder,c=a.encode(n),t.next=4,u.f.compile(c).do();case 4:return o=t.sent,t.abrupt("return",new Uint8Array(e.from(o.result,"base64")));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){var a,c,o,s,i,j,p,f,m,O,h,g,v,N,y;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Adding Profile..."+t),e.next=3,u.f.getTransactionParams().do();case 3:return(a=e.sent).fee=l.a.ALGORAND_MIN_TX_FEE,a.flatFee=!0,e.next=8,x(d.a);case 8:return c=e.sent,e.next=11,x(b.a);case 11:return o=e.sent,s=(new TextEncoder).encode(u.d),i=(new TextEncoder).encode(n.name),j=(new TextEncoder).encode(n.image),p=(new TextEncoder).encode(n.bio),f=(new TextEncoder).encode(n.link),m=[i,j,p,f],O=l.a.makeApplicationCreateTxnFromObject({from:t,suggestedParams:a,onComplete:l.a.OnApplicationComplete.NoOpOC,approvalProgram:c,clearProgram:o,numLocalInts:u.q,numLocalByteSlices:u.p,numGlobalInts:u.o,numGlobalByteSlices:u.l,note:s,appArgs:m}),h=O.txID().toString(),e.next=22,u.i.signTransaction(O.toByte());case 22:return g=e.sent,console.log("Signed transaction with txID: %s",h),e.next=26,u.f.sendRawTransaction(g.blob).do();case 26:return e.next=28,l.a.waitForConfirmation(u.f,h,4);case 28:return v=e.sent,console.log("Transaction "+h+" confirmed in round "+v["confirmed-round"]),e.next=32,u.f.pendingTransactionInformation(h).do();case 32:return N=e.sent,y=N["application-index"],console.log("Created new app-id: ",y),e.abrupt("return",[y,h]);case 36:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){var a,c,o,s,i,d,b,j,p,x,f,m,O,h;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Edit Profile..."),e.next=3,u.f.getTransactionParams().do();case 3:for((a=e.sent).fee=l.a.ALGORAND_MIN_TX_FEE,a.flatFee=!0,c=(new TextEncoder).encode("edit"),o=(new TextEncoder).encode(n.name),s=(new TextEncoder).encode(n.image),i=(new TextEncoder).encode(n.bio),d=(new TextEncoder).encode(n.link),b=[c,o,s,i,d],j=l.a.makeApplicationCallTxnFromObject({from:t,appIndex:n.appId,onComplete:l.a.OnApplicationComplete.NoOpOC,suggestedParams:a,appArgs:b}),p=[j],x=l.a.computeGroupID(p),f=0;f<1;f++)p[f].group=x;return e.next=18,u.i.signTransaction(p.map((function(e){return e.toByte()})));case 18:return m=e.sent,console.log("Signed group transaction"),e.next=22,u.f.sendRawTransaction(m.map((function(e){return e.blob}))).do();case 22:return O=e.sent,e.next=25,l.a.waitForConfirmation(u.f,O.txId,4);case 25:return h=e.sent,console.log("Group transaction "+O.txId+" confirmed in round "+h["confirmed-round"]),e.abrupt("return",[n.appId,O.txId]);case 28:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var t=Object(c.a)(Object(r.a)().mark((function t(n){var c,o,s,i,l,d,b,j,p;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Fetching Profile..."),c=(new TextEncoder).encode(u.d),o=e.from(c).toString("base64"),t.next=5,u.g.searchForTransactions().notePrefix(o).address(n).txType("appl").minRound(u.h).do();case 5:s=t.sent,i=[],l=Object(a.a)(s.transactions),t.prev=8,l.s();case 10:if((d=l.n()).done){t.next=20;break}if(b=d.value,!(j=b["created-application-index"])){t.next=18;break}return t.next=16,h(j);case 16:(p=t.sent)&&i.push(p);case 18:t.next=10;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(8),l.e(t.t0);case 25:return t.prev=25,l.f(),t.finish(25);case 28:return console.log("Profile fetched."),t.abrupt("return",i);case 30:case"end":return t.stop()}}),t,null,[[8,22,25,28]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n,a,c,o,s,i,l,d,b,x,f,m;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.g.lookupApplications(t).includeAll(!0).do();case 3:if(!(n=e.sent).application.deleted){e.next=6;break}return e.abrupt("return",null);case 6:return a=n.application.params["global-state"],c=n.application.params.creator,o="",s="",i="",l="",d=function(e,t){return t.find((function(t){return t.key===Object(j.e)(e)}))},void 0!==d("NAME",a)&&(b=d("NAME",a).value.bytes,o=Object(j.a)(b)),void 0!==d("IMAGE",a)&&(x=d("IMAGE",a).value.bytes,s=Object(j.a)(x)),void 0!==d("BIO",a)&&(f=d("BIO",a).value.bytes,i=Object(j.a)(f)),void 0!==d("LINK",a)&&(m=d("LINK",a).value.bytes,l=Object(j.a)(m)),e.abrupt("return",new p(o,s,i,l,t,c));case 20:return e.prev=20,e.t0=e.catch(0),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(16).Buffer)}},[[374,1,2]]]);
//# sourceMappingURL=main.0ac58d27.chunk.js.map